import React, { Fragment, useState } from "react";
import "../styles.css";

import Requirement from "./Requirement";
import Validate from "../components/Validate/Validate";

const App = () => {

    const initValue = {
        email: "",
        password: ""
    };

    const [form, setForm] = useState(initValue);
    const [isValid, setIsValid] = useState(false);

    const handelChange = (event) => {
        setForm({...form, [event.target.name]: event.target.value});
    };

    return (
        <Fragment>
            <h1> Login </h1>
            <Validate
                value = {form.password}
                requirement = {Requirement}
                currStatus = {val => setIsValid(val)}
            />
            <form className="form">
                <input 
                    type = "text"
                    name = "email"
                    placeholder = "Enter email"
                    value = {form.email}
                    onChange = {handelChange}
                />
                <input 
                    type = "text"
                    name = "password"
                    placeholder = "Enter password"
                    value = {form.password}
                    onChange = {handelChange}
                />
                <button disabled={!isValid || !form.email}>
                    Submit
                </button>
            </form>
        </Fragment>
    );
};

export default App;